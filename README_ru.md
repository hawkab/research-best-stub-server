# research-best-stub-server
Исследование на тему: какое существует наилучшее решение мокирования сервисов для разработки, отладки и интеграционного тестирования приложений в экосистеме джава

# Анализ существующих решений, сравнение характеристик

|Инструмент|Основное применение|Простота использования|Поддержка сложной логики|Формат ответов|Способ развертывания|Особенности|
|---|---|---|---|---|---|---|
|[WireMock|https://wiremock.org/]|REST и SOAP API|Средняя|Высокая|JSON, XML, другие|Java-приложение, Docker|Запись и воспроизведение запросов, интеграция с тестами|
|[MockServer|https://www.mock-server.com/]|HTTP/HTTPS заглушки|Средняя|Высокая|Любой|Java, standalone, Docker|Динамическое изменение поведения|
|[Postman Mock Server|https://learning.postman.com/docs/designing-and-developing-your-api/mocking-data/setting-up-mock/]|Прототипы и быстрые проверки|Очень простая|Низкая|JSON|Встроенный в Postman|Легкость настройки, динамические переменные|
|[JSON Server|https://github.com/typicode/json-server]|Простые REST API|Очень простая|Низкая|JSON|Node.js-приложение|Минимальные усилия: только JSON-файл|
|[Beeceptor|https://beeceptor.com/]|Быстрое создание заглушек|Очень простая|Средняя|JSON|Облачный сервис|Удобный веб-интерфейс, без локальной установки|
|[Mountebank|https://www.mbtest.org/]|Разные протоколы (HTTP, TCP, SMTP)|Средняя|Высокая|Любой|Node.js, standalone|Универсальность, подходит для многопротокольных систем|
|[Hoverfly|https://hoverfly.io/]|Высоконагруженные системы|Средняя|Высокая|JSON|Standalone, Docker|Поддержка записи и воспроизведения запросов|
|[Fastify (Mock Plugin)|https://fastify.dev/]|Node.js с Fastify|Простая|Низкая|JSON|Node.js-приложение|Хорошо интегрируется в проекты на Fastify|
|[Spring Cloud Contract|https://spring.io/projects/spring-cloud-contract]|Java и Spring|Средняя|Высокая|JSON, XML, другие|Spring-приложение, Docker|Контрактное тестирование, генерация заглушек из контрактов|



# Примерная оценка времени на внедрение каждого инструмента:

|*Инструмент*|*Простые сценарии*|*Сложные сценарии*|*Комментарии*|
|---|---|---|---|
|WireMock|1-2 часа|1-2 дня|Требует работы с DSL или JSON-конфигурацией, подходит для интеграции в Java-проекты.|
|MockServer|1-3 часа|1-2 дня|Чуть сложнее в настройке, особенно для сложных правил. Подходит для гибких сценариев.|
|Postman Mock Server|15-30 минут|1-2 часа|Очень простой в использовании GUI, не требует программирования.|
|JSON Server|15-30 минут|Неприменимо|Быстрое развертывание, но ограниченные возможности для сложной логики.|
|Beeceptor|5-15 минут|1-2 часа|Полностью облачное решение, минимальная настройка.|
|Mountebank|1-2 часа|1-3 дня|Поддерживает разные протоколы, требует времени на изучение документации.|
|Hoverfly|1-2 часа|1-2 дня|Удобен для записи и воспроизведения запросов, прост в настройке.|
|Fastify (Mock Plugin)|30 минут - 1 час|1-2 дня|Простой инструмент для тех, кто уже работает с Fastify (Node.js).|
|Spring Cloud Contract|1-3 часа|1-2 дня|Подходит для Java/Spring проектов, требует знаний контрактного тестирования.|


# Лицензирование

|*Инструмент*|*Бесплатно*|*Платные функции*|
|---|---|---|
|WireMock|Да (Open Source)|WireMock Cloud (облачная версия): дополнительные функции, масштабируемость.|
|MockServer|Да (Open Source)|Платных функций нет.|
|Postman Mock Server|Частично (Free Plan)|На бесплатном тарифе ограничено количество запросов. Платные планы для большего объёма запросов и командной работы.|
|JSON Server|Да (Open Source)|Платных функций нет.|
|Beeceptor|Частично (Free Plan)|Бесплатный тариф ограничен по количеству запросов в месяц. Платные планы для больших объёмов.|
|Mountebank|Да (Open Source)|Платных функций нет.|
|Hoverfly|Да (Open Source)|Платных функций нет.|
|Fastify (Mock Plugin)|Да (Open Source)|Платных функций нет.|
|Spring Cloud Contract|Да (Open Source)|Платных функций нет.|


# Сравнительная таблица, описывающая активность сообщества и количество вопросов на Stack Overflow:

|*Инструмент*|*Размер сообщества*|*Вопросов на Stack Overflow*|*Дополнительные показатели*|
|---|---|---|---|
|WireMock|Крупное и активное сообщество. Более 5 миллионов загрузок в месяц. Имеются Slack-канал и GitHub-проект.|[2700+​|https://stackoverflow.com/search?q=WireMock]|Обширная документация, готовые шаблоны API, есть облачная версия для использования в командах.|
|Spring Cloud Contract|Крупное сообщество|[757+|https://stackoverflow.com/search?q=Spring+Cloud+Contract]|Поддерживается сообществом на GitHub и в других каналах.|
|MockServer|Менее крупное, но узконаправленное сообщество с активностью на GitHub и пользовательским форумом.|[990+​|https://stackoverflow.com/search?q=MockServer]|Mailing list для пользователей и активное обсуждение на GitHub.|
|Postman Mock Server|Узкоспециализированное сообщество, популярное для микросервисов, активность ниже, чем у WireMock.|[220+|https://stackoverflow.com/search?q=Postman+Mock+Server]|Большое сообщество пользователей через Postman (многие используют для API тестирования).|
|Beeceptor|Узкоспециализированное сообщество|[28+|https://stackoverflow.com/search?q=Beeceptor]| |
|Mountebank|Узкоспециализированное сообщество|[129+|https://stackoverflow.com/search?q=Mountebank]|Поддерживается активным сообществом на GitHub.|
|Hoverfly|Узкоспециализированное сообщество|[66+|https://stackoverflow.com/search?q=Hoverfly]|Поддержка ограничена активными участниками проекта.|
|Fastify (Mock Plugin)|Узкоспециализированное сообщество|[8+|https://stackoverflow.com/search?q=Fastify+%28Mock+Plugin%29]|Активное сообщество разработчиков Fastify.|


# В итоге 

Считаю, что Wiremock наиболее подходящий кандидат, в виду того, что:

имеет наиболее активное community
тесную интеграцию с java,
возможность работы вне java экосистемы для универсальной интеграции с другими системами
лицензия Apache License 2.0 (бесплатен)
поддерживает сложные маппинги, но при этом имеет среднее время внедрения.
Документация: https://wiremock.org/docs/download-and-installation/
